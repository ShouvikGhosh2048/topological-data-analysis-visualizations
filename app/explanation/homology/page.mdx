import {
    SimplexDefinition,
    LineIntersection,
    GeometricSimplicialComplex,
    HomologyExample,
    HomologyExample2,
    AddingBoundaryOfATriangle,
    HomologyExample3,
    HomologyExample4,
    HomologyExample5,
    HomologyExample6,
    HomologyExample7,
    HomologyExample8,
    HomologyExample9,
    HomologyExample10,
} from './images.tsx';

export const metadata = {
    title: 'Homology'
}

# Homology

## 1. Simplicial Complex
A **n-simplex** is a n-dimensional triangle.

<SimplexDefinition />

For a simplex S, any simplex S' formed by a subset of the vertices of S is called a **face** of S.

Example: In a 2-simplex (a triangle), the vertices and edges form the faces.

A **[geometric simplicial complex](https://en.wikipedia.org/wiki/Simplicial_complex)** is a set of simplices such that:
- If a simplex is in the set, its faces are also in the set.
- If two simplices intersect, their intersection is a common face.

<LineIntersection />

Example:

<GeometricSimplicialComplex />

An **[abstract simplicial complex](https://en.wikipedia.org/wiki/Abstract_simplicial_complex)** is a set S of non-empty finite sets such that for any T in S, all non empty subsets of T lie in S.
(This condition is similar to the condition that for any simplex in a geometric simplicial complex, all its faces must also be in the simplicial complex.)

Example: \{\{a\}, \{b\}, \{c\}, \{d\}, \{a, b\}, \{b, c\}, \{c, d\}, \{d, a\}, \{b, c, d\}\}

Any geometric simplicial complex can be converted to an abstract simplicial complex by mapping each simplex to the set of its vertices.

Any abstract simplicial complex can be realized as a geometric simplicial complex, with the sets of the abstract simplicial complex representing the simplices in the geometric simplicial complex.

Example: The two examples above can be converted to each other.

## 2. Homology

We will be considering the following simplicial complex for this section:
<HomologyExample />

### 2.1. Formal sums
Consider the vertices of the simplicial complex.

We can consider "expressions" like a - 2c and 3f + 5e.
There isn't any predefined notion of addition of vertices, we just write out expressions as if we could add vertices.
Such expressions are known as **[formal sums](https://en.wikipedia.org/wiki/Formal_sum)**.

In general, for any dimension d, we can consider formal sums of d-simplices. This set is denoted by C<sub>d</sub>.

Generally while studying homology we consider formal sums with integer coefficients. However, for the following explanation (and other explanations on this website),
we will consider formal sums with coefficients from **F<sub>2</sub>**, the set \{0, 1\} with addition and multiplication mod 2.
An important observation is that this means that for any simplex s, s + s = 0 (as 1 + 1 = 0 mod 2).

Since F<sub>2</sub> is a field, C<sub>d</sub> is a vector space.

### 2.2. Boundary
For any n-simplex, we can consider its **boundary** - the sum of its n-1 dimensional faces.

Example: The boundary of triangle abc is the formal sum of edges ab + bc + ca.

We can extend this linearly to the **boundary of formal sums** - the boundary of a formal sum is the sum of the boundaries of the simplices in the formal sum.

Example:

Boundary of (cde + def)

= Boundary of cde + Boundary of def

= (cd + de + ec) + (de + ef + fd)

= cd + ec + ef + fd + (de + de)

= cd + ec + ef + fd (de + de = 0)

We will denote the boundary function on formal sums of p-simplices by d<sub>p</sub>. Note that d<sub>p</sub> is a linear map.

### 2.3. Cycles and boundaries
<HomologyExample2 />

Consider the formal sum bd + dc + cb (purple edges). This formal sum has boundary 0.
Such formal sums are known as cycles.

Formally, the set of p-cycles **Z<sub>p</sub> = kernel of d<sub>p</sub>**. (The kernel of a map is the set of elements that get mapped to 0.)
Thus bd + dc + cb is a 1-cycle.

Now consider the formal sum de + ef + fd (blue edges). This formal sum is the boundary of formal sum def (a formal sum with one simplex).
Such formal sums are know as boundaries (they are a boundary of some formal sum).

Formally, the set of p-boundaries **B<sub>p</sub> = image of d<sub>p+1</sub>** (note the p + 1).
Thus de + ef + fd is a 1-boundary.

Z<sub>p</sub> and B<sub>p</sub> are vector spaces (note that this is for coefficients in F<sub>2</sub>).
This is because d<sub>p</sub> is a linear map between vector spaces of formal sums, and so its kernel and image are also vector spaces.

### 2.4. Composition of boundary functions

Consider any n+1-simplex S. Let the set of vertices of S be V.

d<sub>n+1</sub>(S) is the sum of n dimensional faces of S.

Consider d<sub>n</sub>(d<sub>n+1</sub>(S)).

For any pair of distinct vertices \{a, b\} of S, let S<sub>a</sub>, S<sub>b</sub> and S<sub>a,b</sub>
be the simplex formed by the vertices V - \{a\}, V - \{b\} and V - \{a, b\} respectively.

Then d<sub>n+1</sub>(S) = ... + S<sub>a</sub> + ... + S<sub>b</sub> + ...

And d<sub>n</sub>(d<sub>n</sub>(S)) = ... + d<sub>n-1</sub>(S<sub>a</sub>) + ... + d<sub>n-1</sub>(S<sub>a</sub>) + ...

= ... + (... + S<sub>a,b</sub> + ...) + ... + (... + S<sub>a,b</sub> + ...) + ...

Since S<sub>a,b</sub> + S<sub>a,b</sub> = 0, these terms cancel.

All the terms cancel like this, and thus d<sub>n</sub>(d<sub>n+1</sub>(S)) = 0.

By linearity of the boundary function, for any formal sum S', d<sub>n</sub>(d<sub>n+1</sub> (S')) = 0.

This means that for any s in B<sub>n</sub> (n-boundary), s = d<sub>n+1</sub>(s') for some s', and so d<sub>n</sub>(s) =  d<sub>n</sub>(d<sub>n+1</sub>(s')) = 0,
which means that s lies in Z<sub>n</sub> (n-cycle).

Thus **B<sub>n</sub> is a subset of Z<sub>n</sub>**. They both are abelian groups under (formal sum) addition.
Thus we can consider the homology group **H<sub>n</sub> = Z<sub>n</sub> / B<sub>n</sub>** (a [quotient group](https://en.wikipedia.org/wiki/Quotient_group)).

### 2.5. Homology group

What is H<sub>n</sub>?

Z<sub>n</sub> / B<sub>n</sub> means that we take the elements of Z<sub>n</sub>, define the equivalence relation a ~ b iff b - a in B<sub>n</sub> on it, and consider its equivalence classes as a group.

Since B<sub>n</sub> = image of d<sub>n+1</sub>, and d<sub>n+1</sub> is linear, the elements of B<sub>n</sub> are the sum of the boundaries of n+1-simplices.

Thus a is equivalent to b iff b - a is a sum of the boundaries of n+1-simplices, that is, we can transform a to b by adding boundaries of n + 1 simplices to a.

Consider the case n = 1. Then this means that we consider two elements a, b in Z<sub>1</sub> to be equivalent if a can be transformed to b by adding the boundary of 2 simplices, that is, the boundary of triangles.

Now, how does adding a boundary of a triangle change a formal sum?

There are 4 distinct cases, depending on how many edges of the boundary are already present in the formal sum:

<AddingBoundaryOfATriangle />

The first case and fourth case imply that we can freely add and remove the boundary of a triangle from the formal sum under the equivalence.
The second and third case imply that we can replace an edge with the other two edges and back.

Thus two formal sums are equivalent iff you can go from one to other using these transformations.

Example:
<HomologyExample3 />
We remove ab + bc + ca.
<HomologyExample4 />
We replace dc + ce with de.
<HomologyExample5 />
We replace de + df with ef.
<HomologyExample6 />

All formal sums within this path are equivalent.

What are the H<sub>1</sub> equivalence classes of this simplicial complex?
This simplicial complex will have 4 equivalence classes with representatives:
<HomologyExample7 />
<HomologyExample8 />
<HomologyExample9 />
<HomologyExample10 />

- The first one has no edges.
- The second has edges around the hole bcd.
- The third has edges around the hole efg.
- The fourth has edges around the hole bcd and efg.

Thus the individual equivalence classes capture the different combinations of holes in the simplicial complex.

This relation extends to the general case - H<sub>n</sub> is a vector space
and its dimension is the number of "n dimensional holes" in the simplicial complex.

The dimension of H<sub>n</sub> for a simplicial complex is known as its **Betti number Î²<sub>n</sub>**.

## Resources
- [Wikipedia](https://en.wikipedia.org/wiki/Homology_(mathematics))
- [Napkin](https://web.evanchen.cc/napkin.html) has a section on homology.
- [Hatcher](https://pi.math.cornell.edu/~hatcher/AT/ATpage.html)